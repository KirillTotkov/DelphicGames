@page "/streams"
@model DelphicGames.Pages.StreamsModel

@{
    ViewData["Title"] = "Трансляции";
}

<div class="m-4">
    <div class="accordion" id="nominations-list">
        <div class="accordion-item">
            <h2 class="accordion-header" id="headingNomination1">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Номинация 1
                </button>
            </h2>
            <div class="accordion-collapse collapse" id="collapseTwo" data-bs-parent="#nominations-list">
                <div class="accordion-body">
                    <div class="d-flex justify-content-end mt-1">
                        <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addDayModal">Добавить
                            день
                        </button>
                    </div>
                    <table class="table table-striped table-hover mt-3">
                        <thead class="table-light">
                            <tr>
                                <th>День</th>
                                <th>Платформа</th>
                                <th>URL</th>
                                <th>Token</th>
                                <th>Действие</th>
                            </tr>
                        </thead>
                        <tbody id="nomination1DaysTable">
                            <!-- Данные дней будут добавляться сюда -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Добавление дня -->
<div class="modal fade" id="addDayModal" tabindex="-1" aria-labelledby="addDayModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addDayModalLabel">Добавить день</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
            </div>
            <div class="modal-body">
                <form id="addDayForm">
                    <div class="row g-3 align-items-center">
                        <div class="col-md-6">
                            <label for="dayDropdown" class="form-label">День</label>
                            <select id="dayDropdown" class="form-select" required>
                                <option value="">--Выберите день--</option>
                                <option value="1">День 1</option>
                                <option value="2">День 2</option>
                                <option value="3">День 3</option>
                                <option value="4">День 4</option>
                                <option value="5">День 5</option>
                                <option value="6">День 6</option>
                                <option value="7">День 7</option>
                                <option value="8">День 8</option>
                                <option value="9">День 9</option>
                                <option value="10">День 10</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Платформа</label>
                            <input type="text" class="form-control" placeholder="Введите название" required>
                        </div>
                    </div>
                    <br />
                    <div class="row g-3 align-items-center">
                        <div class="col-md-6">
                            <label for="urlInput" class="form-label">URL Платформы</label>
                            <input type="url" class="form-control" id="urlInput" placeholder="Введите URL" required>
                        </div>
                        <div class="col-md-6">
                            <label for="tokenInput" class="form-label">Токен</label>
                            <input type="text" class="form-control" id="tokenInput" placeholder="Введите токен"
                                required>
                        </div>
                    </div>
                    <div class="d-flex justify-content-end mt-3">
                        <button type="submit" class="btn btn-primary">Добавить</button>
                    </div>
                </form>
                <hr>
                <table class="table table-striped table-hover mt-3">
                    <thead class="table-light">
                        <tr>
                            <th>Платформа</th>
                            <th>URL</th>
                            <th>Токен</th>
                        </tr>
                    </thead>
                    <tbody id="addedPlatformsTable">
                        <!-- Данные будут добавляться сюда -->
                    </tbody>
                </table>
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-success">Добавить</button>
                </div>
            </div>
        </div>
    </div>
</div>


@section Head
{
    <link rel="stylesheet" href="https://cdn.datatables.net/2.1.8/css/dataTables.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
    <style>
        input[type="checkbox"] {
            width: 15px;
            height: 15px;
        }
    </style>
}

@section Scripts
{
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <script src="https://cdn.datatables.net/2.1.8/js/dataTables.min.js"></script>

    <script src="js/streams.js" asp-append-version="true"></script>
}